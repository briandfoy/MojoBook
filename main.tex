\documentclass{book}

%This work is licensed under the Creative Commons Attribution-NonCommercial-NoDerivs 3.0 United States License. To view a copy of this license, visit http://creativecommons.org/licenses/by-nc-nd/3.0/us/ or send a letter to Creative Commons, 444 Castro Street, Suite 900, Mountain View, California, 94041, USA.

\usepackage{import}

\usepackage{hyperref}
\usepackage{url}

\usepackage{graphicx}
\DeclareGraphicsExtensions{.png,.pdf,.jpg}

\usepackage{textcomp}
\usepackage{listings}

\lstloadlanguages{perl,bash}

\usepackage[usenames,dvipsnames]{color}

%\definecolor{light-gray}{gray}{0.95}

\lstdefinestyle{perl}{
  language=perl, 
  deletekeywords={delete}, %this keyword is more confusing than helpful in mojo context
  upquote=true,
  showstringspaces=false,
  basicstyle={\footnotesize\ttfamily}, 
  xleftmargin=\parindent,
  commentstyle={\textcolor{red}},
  stringstyle={\textcolor{OliveGreen}},
  keywordstyle={\textcolor{NavyBlue}}
  %backgroundcolor={\color{light-gray}}
}
\lstdefinestyle{mojolite}{
  style=perl,
  morekeywords=[2]{
    any,get,options,patch,post,put,websocket,del,
    app,group,helper,hook,plugin,under
  },
  keywordstyle=[2]{\textcolor{Bittersweet}}
}
\lstdefinestyle{bash}{language=bash, upquote=true, basicstyle=\ttfamily, xleftmargin=\parindent}

\lstnewenvironment{perl}{\lstset{style=perl}}{}
\lstnewenvironment{mojolite}{\lstset{style=mojolite}}{}
\lstnewenvironment{bash}{\lstset{style=bash}}{}

\newcommand\lstperl{\lstinline[style=perl]}
\newcommand\lstmojolite{\lstinline[style=mojolite]}
\newcommand\lstbash{\lstinline[style=bash]}

\providecommand{\cpan}[1]{\href{http://metacpan.org/module/#1}{{\tt #1}}}

\renewcommand{\underbar}[1]{{#1}}

\title{The Mojolicious Book}
\author{Joel Berger}


\begin{document}

\maketitle

%\copyrightpage
\newpage
\begin{figure}
  \centering
  \includegraphics{by-nc-nd}
\end{figure}
This work is licensed under the Creative Commons Attribution-NonCommercial-NoDerivs 3.0 United States License.
To view a copy of this license, visit \url{http://creativecommons.org/licenses/by-nc-nd/3.0/us/} or send a letter to
\begin{verbatim}
Creative Commons
444 Castro Street, Suite 900
Mountain View, CA, 94041, USA.
\end{verbatim}

\tableofcontents

\subimport{getting_started/}{getting_started}

\end{document}

